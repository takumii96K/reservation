<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta id="csrfToken" name="_csrf" th:content="${_csrf.token}"/>
    <meta id="csrfHeaderName" name="_csrf_header" th:content="${_csrf.headerName}"/>
    <title>ÂïÜÂìÅÈÅ∏ÊäûÁîªÈù¢</title>
    <link rel="stylesheet" type="text/css" href="/style.css">
    <link rel="stylesheet" type="text/css" href="/product.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick-theme.css"/>
    <link rel="stylesheet" href="https://cdn.skypack.dev/sanitize.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick.min.js"></script>
</head>
<body>

<!--Âõ∫ÂÆö„Éò„ÉÉ„ÉÄ„Éº„Éï„É©„Ç∞„É°„É≥„Éà„ÅÆÊåøÂÖ• -->
<div th:replace="fragments/layout :: header"></div>

<!-- Ë¶ãÂá∫„Åó -->
<h1 class="midashi">Menu</h1>

<!-- „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ -->
<main class="wrap">
    <div class="main">
        <div class="main_content">
            <!-- „Çπ„É©„Ç§„Éâ„Ç∑„Éß„Éº -->
            <ul class="slider">
                <li><img src="https://images.pexels.com/photos/2619970/pexels-photo-2619970.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" alt=""></li>
                <li><img src="https://images.pexels.com/photos/2271107/pexels-photo-2271107.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" alt=""></li>
                <li><img src="https://images.pexels.com/photos/3944308/pexels-photo-3944308.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" alt=""></li>
                <li><img src="https://images.pexels.com/photos/1639557/pexels-photo-1639557.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" alt=""></li>
                <li><img src="https://images.pexels.com/photos/1893555/pexels-photo-1893555.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" alt=""></li>
                <li><img src="https://images.pexels.com/photos/1437812/pexels-photo-1437812.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" alt=""></li>
            </ul>

            <!-- ÂïÜÂìÅ„Ç´„Éº„Éâ„ÇíÂãïÁöÑ„Å´Ë°®Á§∫ -->
            <div class="menu-container">
                <!-- ÂïÜÂìÅ„Ç´„Éº„Éà HTML -->
                <div class="product-card" th:each="product : ${products}">
                    <div class="product-image">
                        <img th:src="${product.imgUrl}" th:alt="${product.productName}" />
                    </div>
                    <div class="product-details"
                         th:data-product-id="${product.id}"
                         th:data-product-name="${product.productName}"
                         th:data-product-price="${product.price}"
                         th:data-quantity="1"> <!-- ÂàùÊúüÂÄ§„Çí„Åì„Åì„ÅßË®≠ÂÆö„ÄÅ„ÇÇ„ÅóÂ§âÊõ¥„Åå„ÅÇ„Çå„Å∞JavaScript„ÅßÊõ¥Êñ∞ -->
                        <span class="productName-span" th:text="${product.productName}">Product Name</span> -
                        <span class="productPrice-span" th:text="${#numbers.formatDecimal(product.price, 0, 'COMMA', 0, 'POINT')} + 'ÂÜÜ'">Price</span>
                        <label>
                            <input type="number" name="quantity" min="1" value="1" class="quantity-input" />
                        </label>
                        <input type="hidden" name="productId" th:value="${product.id}" />
                        <button type="button" class="add-to-cart-button" onclick="addToCart(this)">„Ç´„Éº„Éà„Å´ËøΩÂä†</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="message-container">
        <p id="message"></p>
    </div>

    <!--„Çµ„Ç§„Ç≥„É≠ -->
    <form th:action="@{/random}" method="post">
        <button id="getRandomProductButton" class="random-product-button"style="background-color: transparent; border: none; color: transparent; cursor: pointer; font-size: 100px;">ü§†</button>
    </form>
    <div th:if="${randomProductName}">
        <p th:text="${randomProductName} + '„ÅåÔΩµÔΩΩÔΩΩÔæí‚ô™'" style="color:transparent;"></p>
    </div>



    <!--„Ç´„Éº„Éà„Å∏ÁßªÂãï„Éú„Çø„É≥-->
    <button class="button-36">
        <a th:href="@{/inCart/list}">„Ç´„Éº„Éà„ÇíÁ¢∫Ë™ç</a>
    </button>
</main>

<!--Âõ∫ÂÆö„Éï„ÉÉ„Çø„Éº„Éï„É©„Ç∞„É°„É≥„Éà„ÅÆÊåøÂÖ• -->
<div th:replace="fragments/layout :: footer"></div>

<script th:src="@{/js/slider.js}"></script> <!-- Â§ñÈÉ®„ÅÆJavaScript„Éï„Ç°„Ç§„É´ -->
<script th:src="@{/js/addToCart.js}"></script>
</body>
</html>